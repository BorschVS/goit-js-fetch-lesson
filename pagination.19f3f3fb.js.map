{"mappings":"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","sources":["src/templates/pagination.hbs","src/js/pagination.js","src/js/load-more.js","src/js/news-api.js"],"sourcesContent":["{{#each articles}}\n  <div class='news-card'>\n    <h2 class='title'>{{title}}</h2>\n    <div class='thumb'>\n      <img src='{{urlToImage}}' alt='{{title}}' class='card-img' />\n      <p class='description'>{{description}}</p>\n    </div>\n    <div class='content-box'>\n      <p class='text content'>{{content}}</p>\n      <p class='text author'>Author: {{author}}</p>\n    </div>\n\n  </div>\n{{/each}}","import '../css/common.css';\nimport '../css/pagination.css';\nimport newsMarkup from '../templates/pagination.hbs';\nimport NewsApiService from './news-api';\nimport LoadMoreBtn from './load-more';\n\nconst refs = {\n  contentBox: document.querySelector('.content-box'),\n  form: document.querySelector('.search-form'),\n};\n\nconst loadMoreBtn = new LoadMoreBtn({\n  selector: '[data-action=\"load-more\"]',\n  hidden: false,\n});\n\nconsole.log(loadMoreBtn);\nconst newsApiService = new NewsApiService();\n\nrefs.form.addEventListener('submit', findNews);\nloadMoreBtn.refs.button.addEventListener('click', fetchArticles);\n\nfunction findNews(e) {\n  e.preventDefault();\n  clearContentBox();\n\n  newsApiService.query = e.currentTarget.elements.query.value;\n\n  if (newsApiService.query === '') {\n    return alert('Введи что-то нормальное');\n  }\n\n  newsApiService.resetPage();\n\n  loadMoreBtn.show();\n  loadMoreBtn.disable();\n\n  fetchArticles();\n}\n\nfunction fetchArticles() {\n  loadMoreBtn.disable();\n  newsApiService.fetchArticles().then(articles => {\n    renderMarkup(articles);\n    loadMoreBtn.enable();\n  });\n}\n\nfunction renderMarkup(news) {\n  refs.contentBox.insertAdjacentHTML('beforeend', newsMarkup(news));\n}\n\nfunction clearContentBox() {\n  refs.contentBox.innerHTML = '';\n}\n","export default class LoadMoreBtn {\n  constructor({ selector, hidden = false }) {\n    this.refs = this.getRefs(selector);\n    hidden && this.hide();\n  }\n  getRefs(selector) {\n    const refs = {};\n    refs.button = document.querySelector(selector);\n    refs.label = document.querySelector('.label');\n    refs.spinner = refs.button.querySelector('.spinner');\n\n    return refs;\n  }\n\n  enable() {\n    this.refs.button.disabled = false;\n    this.refs.label.textContent = 'Show More';\n    this.refs.spinner.classList.add('is-hidden');\n  }\n\n  disable() {\n    this.refs.button.disabled = true;\n    this.refs.label.textContent = 'Loading...';\n    this.refs.spinner.classList.remove('is-hidden');\n  }\n\n  show() {\n    this.refs.button.classList.remove('is-hidden');\n  }\n\n  hide() {\n    this.refs.button.classList.add('is-hidden');\n  }\n}\n","const NEWS_API_URL = 'https://newsapi.org/v2/';\nconst NEWS_API_KEY = '2b94772380c74ad89e726abe36fb7410';\n\nexport default class NewsApiService {\n  constructor() {\n    this.searchQuery = '';\n    this.page = 1;\n  }\n\n  fetchArticles() {\n    const options = {\n      Authorization: NEWS_API_KEY,\n    };\n    const url = `${NEWS_API_URL}/everything?q=${this.searchQuery}&language=en&pageSize=10&page=${this.page}&apiKey=${options.Authorization}`;\n\n    return fetch(url, options)\n      .then(response => response.json())\n      .then(articles => {\n        this.incrementPage();\n        return articles;\n      });\n  }\n\n  incrementPage() {\n    this.page += 1;\n  }\n\n  resetPage() {\n    this.page = 1;\n  }\n\n  get query() {\n    return this.searchQuery;\n  }\n\n  set query(newQuery) {\n    this.searchQuery = newQuery;\n  }\n}\n"],"names":["$15ae99a6fe2ef152$export$2e2bcd8739ae039","$parcel$interopDefault","parcelRequire","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","name","hash","loc","start","line","column","end","compiler","main","stack1","fn","program","inverse","noop","useData","$1bab9c519cfa82bc$var$refs","contentBox","document","querySelector","form","$1bab9c519cfa82bc$var$loadMoreBtn","getRefs","selector","refs","button","label","spinner","enable","this","disabled","textContent","classList","add","disable","remove","show","hide","constructor","hidden","console","log","$1bab9c519cfa82bc$var$newsApiService","fetchArticles","options","Authorization","url","searchQuery","page","fetch","then","response","json","articles","incrementPage","resetPage","query","newQuery","$1bab9c519cfa82bc$var$fetchArticles","news","insertAdjacentHTML","addEventListener","e","preventDefault","innerHTML","$1bab9c519cfa82bc$var$clearContentBox","currentTarget","elements","value","alert"],"version":3,"file":"pagination.19f3f3fb.js.map"}